import {useState} from 'react';
import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs/blocks';
import {action} from '@storybook/addon-actions';
import {Checkbox} from './Checkbox.tsx';
import {useArgs, updateArgs} from '@storybook/client-api';

<Meta
  title="Components/Checkbox"
  component={Checkbox}
  argTypes={{
    readOnly: {control: {type: 'boolean'}},
    status: {type: {control: {type: 'select', options: ['checked', 'unchecked', 'undetermined']}}},
    label: {control: {type: 'text'}},
    onChange: {action: 'Checkbox component onChange'}
  }}
  args={{
    label: 'Checkbox',
    status: 'checked'
  }}
/>

# Checkbox

## Usage

The checkboxes are applied when users can select all, several, or none of the options from a given list.

### Checkbox states

The checkbox control allows three states: selected, unselected, and undetermined. The undetermined state comes into play when the checkbox contains a sublist of selections, some of which are selected, and others aren't.

Users must be able to check the box by clicking directly on the box or by clicking on its label.

### Content

#### Title

If necessary, a header can accompany a set of checkboxes to provide more context or clarity.

#### Labels

Always use clear and concise labels for the checkboxes. The labels appears on the right of the checkboxes.

## Playground

Use this playground to test the checkbox component

<Canvas>
  <Story name="Standard">
    {(args) => {
      const [{status}, updateArgs] = useArgs();
      const nextStatus = 'checked' === status ? 'unchecked' : 'checked';
      const toggleChecked = () => {
        updateArgs({status: nextStatus});
      }
      return <Checkbox {...args} status={status} onChange={toggleChecked} />;
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

## Variation on state
<Canvas>
  <Story name="State">
    {(args) => {
      return (
        <>
          <Checkbox  {...args} status="checked" label={'Checkbox checked'}/>
          <Checkbox  {...args} status="undetermined" label={'Checkbox undetermined'}/>
          <Checkbox  {...args} status="unchecked" label={'Checkbox unchecked'}/>
        </>
      )
    }}
  </Story>
</Canvas>

## Variation on disabled
<Canvas>
  <Story name="Disabled">
    {(args) => {
      return (
        <>
          <Checkbox {...args} readOnly={true} status="checked" label={'Checked disabled'}/>
          <Checkbox {...args} readOnly={true} status="undetermined" label={'Undetermined disabled'}/>
          <Checkbox {...args} readOnly={true} status="unchecked" label={'Unchecked disabled'}/>
        </>
      )
    }}
  </Story>
</Canvas>

## Animation
<Canvas>
  <Story name="Animation">
    {(args) => {
      const [status, setStatus] = useState('checked');
      return (
        <Checkbox {...args} status={status} onChange={(newStatus) => setStatus(newStatus)}/>
      )
    }}
  </Story>
</Canvas>

import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs/blocks';
import {ProgressIndicator} from './ProgressIndicator';
import {Button} from '../Button/Button';
import {useProgress} from '../../hooks';

<Meta
  title="Components/Progress indicator"
  component={ProgressIndicator}
  subcomponents={{
    ProgressIndicator: ProgressIndicator,
    'ProgressIndicator.Step': ProgressIndicator.Step,
  }}
  argTypes={{
    numberOfSteps: {control: {type: 'number', min: 1, max: 10}},
    completedStep: {control: {type: 'number', min: 1, max: 10}},
    children: {table: {disable: true}},
  }}
  args={{numberOfSteps: 3, completedStep: 1}}
/>

# Progress indicator

## Usage

Progress indicator display progress through a sequence of logical and numbered steps

## Playground

<Canvas>
  <Story name="Standard">
    {args => {
      const steps = ['chose', 'edit', 'confirm'];
      const [isCurrent, next, previous] = useProgress(steps);
      return (
        <>
          <Button onClick={previous}>Previous</Button>
          <Button onClick={next}>Next</Button>
          <ProgressIndicator>
            {steps.map((step, i) => {
              return (
                <ProgressIndicator.Step key={step} current={isCurrent(step)}>
                  {step}
                </ProgressIndicator.Step>
              );
            })}
          </ProgressIndicator>
        </>
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />
